;
CREATE USER IF NOT EXISTS SA SALT '10c59a9377e105a3' HASH 'f130dd2e80a1ffac600e5387722328ff3f26f43fa818ce2e69972d0b23c7ea27' ADMIN;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_05452F69_D78E_4210_841D_526D8D1A372F START WITH 1033 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_8AED5A19_244C_42F4_A193_17B5B542C1EB START WITH 161 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_E35C655D_817F_4216_9650_80D38FB337D4 START WITH 4 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_C6706C40_B9D0_4060_A995_87A2123C58D0 START WITH 1251 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_29916845_A3A2_4A23_9952_EF2595485B55 START WITH 133 BELONGS_TO_TABLE;
CREATE CACHED TABLE PUBLIC.GARE(
  ID INT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_05452F69_D78E_4210_841D_526D8D1A372F) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_05452F69_D78E_4210_841D_526D8D1A372F,
  NOME VARCHAR(255) NOT NULL,
  ANNO_SOCIETARIO INT NOT NULL,
  COMPLETATA VARCHAR(1) DEFAULT 'N' NOT NULL,
  PUNTEGGIO_MASSIMO INT
);
ALTER TABLE PUBLIC.GARE ADD CONSTRAINT PUBLIC.CONSTRAINT_2 PRIMARY KEY(ID);
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.GARE;    

CREATE CACHED TABLE PUBLIC.DIVISIONI(
  ID INT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_29916845_A3A2_4A23_9952_EF2595485B55) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_29916845_A3A2_4A23_9952_EF2595485B55,
  DESCRIZIONE VARCHAR(255),
  DEFAULT_GROUP VARCHAR(1),
  ENABLED VARCHAR(1)
);
ALTER TABLE PUBLIC.DIVISIONI ADD CONSTRAINT PUBLIC.CONSTRAINT_48 PRIMARY KEY(ID);
-- 12 +/- SELECT COUNT(*) FROM PUBLIC.DIVISIONI;              
INSERT INTO PUBLIC.DIVISIONI(ID, DESCRIZIONE, DEFAULT_GROUP, ENABLED) VALUES
  (1, 'Senior', 'S', 'S'),
  (2, 'Master', 'S', 'S'),
  (3, 'Giovanili', 'S', 'S'),
  (4, 'Femminile', 'S', 'S'),
  (37, 'pippo', 'S', 'N'),
  (38, 'pippo', 'S', 'N'),
  (69, 'PROVA2', 'S', 'N'),
  (70, 'aaaa', 'S', 'N'),
  (5, 'Arco nudo', 'S', 'S'),
  (6, 'Compound', 'S', 'S'),
  (101, 'VI', 'N', 'N'),
  (102, 'V.I.', 'N', 'S');
CREATE CACHED TABLE PUBLIC.TIPI_GARA(
  ID INT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_E35C655D_817F_4216_9650_80D38FB337D4) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_E35C655D_817F_4216_9650_80D38FB337D4,
  NOME VARCHAR(50)
);
ALTER TABLE PUBLIC.TIPI_GARA ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(ID);
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.TIPI_GARA;               
INSERT INTO PUBLIC.TIPI_GARA(ID, NOME) VALUES
  (1, 'FIOCCHI'),
  (2, 'INDOOR'),
  (3, 'OUTDOOR');
CREATE CACHED TABLE PUBLIC.GARE_TIPI_GARA(
  ID_GARA INT,
  ID_TIPO INT
);
-- 10 +/- SELECT COUNT(*) FROM PUBLIC.GARE_TIPI_GARA;         

CREATE CACHED TABLE PUBLIC.CONF_GARA(
  ID_GARA INT,
  ID_ARCIERE INT,
  GRUPPO VARCHAR(10),
  PUNTEGGIO INT,
  ID INT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_C6706C40_B9D0_4060_A995_87A2123C58D0) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_C6706C40_B9D0_4060_A995_87A2123C58D0,
  DIVISIONE INT,
  ESCLUDI_CLASSIFICA VARCHAR(1)
);
ALTER TABLE PUBLIC.CONF_GARA ADD CONSTRAINT PUBLIC.CONSTRAINT_7 PRIMARY KEY(ID);

CREATE UNIQUE INDEX PUBLIC.CONF_GARA_UNIQUE ON PUBLIC.CONF_GARA(ID_GARA, ID_ARCIERE);
CREATE CACHED TABLE PUBLIC.CONFIGURAZIONE(
  DB_VERSION INT,
  DATA_ANNO_SOCIETARIO VARCHAR(5)
);
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.CONFIGURAZIONE;          
INSERT INTO PUBLIC.CONFIGURAZIONE(DB_VERSION, DATA_ANNO_SOCIETARIO) VALUES
  (8, '01/10');
CREATE CACHED TABLE PUBLIC.DIVISIONI_GARA(
  ID_DIVISIONE INT,
  ID_GARA INT
);
-- 12 +/- SELECT COUNT(*) FROM PUBLIC.DIVISIONI_GARA;
CREATE CACHED TABLE PUBLIC.ARCIERI(
  ID INT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_8AED5A19_244C_42F4_A193_17B5B542C1EB) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_8AED5A19_244C_42F4_A193_17B5B542C1EB,
  NOME VARCHAR(50),
  COGNOME VARCHAR(50),
  SESSO VARCHAR(2)
);
ALTER TABLE PUBLIC.ARCIERI ADD CONSTRAINT PUBLIC.CONSTRAINT_F PRIMARY KEY(ID);
-- 65 +/- SELECT COUNT(*) FROM PUBLIC.ARCIERI;

CREATE UNIQUE INDEX PUBLIC.ARCIERE_UNIQUE ON PUBLIC.ARCIERI(NOME, COGNOME);   
